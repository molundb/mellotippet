rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    //match /predictions/{userId} {
      //allow read, update, delete: if request.auth != null && request.auth.uid == userId;
      //allow create: if request.auth != null;
    //}
    //match /{document=**} {
      //allow read, write: if request.auth != null;
    //}
    
    //match /competitions/{document=**} {
     //allow write: if false;
    //}
    
    match /users/{document=**} {
    	allow read, write: if true
    }
    
    match /competitions/{document=**} {
      allow read: if (request.auth.uid != null)
    }
    
    match /competitions/{competition}/predictions/{document=**} {
      allow write, read: if competition == 'final' && (request.auth.uid != null)
    }
    
    
  }
}